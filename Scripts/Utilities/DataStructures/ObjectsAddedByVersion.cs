using System.Collections.Generic;
using System.Linq;
using ItemBrowser.Api;

namespace ItemBrowser.Utilities.DataStructures {
	public class ObjectsAddedByVersion {
		public readonly string Name;
		private readonly HashSet<ObjectID> _objects;

		public IEnumerable<ObjectID> Objects => _objects;
		public bool HasAnyItems => _objects.Any(id => ItemBrowserAPI.IsItemIndexed(new ObjectDataCD {
			objectID = id
		}));
		public bool HasAnyCreatures => _objects.Any(id => ItemBrowserAPI.IsCreatureIndexed(new ObjectDataCD {
			objectID = id
		}));

		public ObjectsAddedByVersion(string name, ObjectID[] ids) {
			Name = name;
			_objects = new HashSet<ObjectID>(ids);
		}

		public static readonly ObjectsAddedByVersion Ck10 = new("1.0", new[] {
			ObjectID.ExplosiveWallExplosion,
			ObjectID.PandoriumPantsArmor,
			ObjectID.LightningGun,
			ObjectID.HourglassRing,
			ObjectID.TerraTrilobite,
			ObjectID.CoreBossOrb,
			ObjectID.LargePassageDestructible,
			ObjectID.SorcererHelm,
			ObjectID.SulfurSetPuffExplosion,
			ObjectID.HydraBossNatureScanner,
			ObjectID.SmallBarnacleGrass,
			ObjectID.HydraBoneSword,
			ObjectID.HydraBossDesertSoulOrb,
			ObjectID.GreenhornPico,
			ObjectID.MushroomBrute,
			ObjectID.AmoebaBomb,
			ObjectID.SulfurTree,
			ObjectID.PandoriumBreastArmor,
			ObjectID.HydraBossSeaScanner,
			ObjectID.CoreCommanderPantsArmor,
			ObjectID.WallBossSummoningItem,
			ObjectID.TrinityHeartOrbOffhand,
			ObjectID.HydraJewelryNatureRing,
			ObjectID.HydraBossSeaSoulOrb,
			ObjectID.GrimyStonePillar,
			ObjectID.CorruptWardenBreastArmor,
			ObjectID.DodoBaby,
			ObjectID.SulfurHelm,
			ObjectID.WallBossBulb,
			ObjectID.HydraBossNatureCraftingItem,
			ObjectID.HydraBossSea,
			ObjectID.SmallPandoriumCrystal,
			ObjectID.GrimyStoneFloor,
			ObjectID.CoreBossWhirlwindProjectile,
			ObjectID.SulfurWormTrophy,
			ObjectID.ScholarBag,
			ObjectID.CoreCommanderChest,
			ObjectID.PassageChest,
			ObjectID.SulfurBomb,
			ObjectID.Egg,
			ObjectID.PaintBrushTeal,
			ObjectID.HydraBossNatureTrophy,
			ObjectID.WallBoss,
			ObjectID.CavelingMummyTrophy,
			ObjectID.HydraBossStalactite,
			ObjectID.PassageDestructible,
			ObjectID.HydraBoneHelm,
			ObjectID.DeflectProjectile,
			ObjectID.TallBarnacleGrass,
			ObjectID.ApprenticeHelm,
			ObjectID.HydraBossNatureSoulOrb,
			ObjectID.AmoebaWormSegmentTail,
			ObjectID.CoreBossSummoningItem,
			ObjectID.PandoriumOreBoulder,
			ObjectID.LiquidMetalBasin,
			ObjectID.ArcaneMonkBreastArmor,
			ObjectID.PandoriumOre,
			ObjectID.ColossalAmoebaTrophy,
			ObjectID.SulfurBreastArmor,
			ObjectID.HydraBonePantsArmor,
			ObjectID.AmoebaGiantSegment,
			ObjectID.HydraJewelryDesertNecklace,
			ObjectID.HydraBoneTooth,
			ObjectID.BasicStaffProjectile,
			ObjectID.PandoriumCrystal,
			ObjectID.CookedCake,
			ObjectID.OrbitingMinion,
			ObjectID.HydraBossDesert,
			ObjectID.ShamanBossScanner,
			ObjectID.WallBossTrophy,
			ObjectID.SoaringHelm,
			ObjectID.HydraWorkbenchCraftingItem,
			ObjectID.WitchDoctorPantsArmor,
			ObjectID.AmoebaGiantSegmentTail,
			ObjectID.CrescentRing,
			ObjectID.AmoebaWormSegment,
			ObjectID.PaintBrushPeach,
			ObjectID.CoreBossScarabProjectile,
			ObjectID.PetTardigradeEggCracked,
			ObjectID.ChieftainBreastArmor,
			ObjectID.CoreBossVoidImmuneZone,
			ObjectID.SoaringPantsArmor,
			ObjectID.SorcererBreastArmor,
			ObjectID.HydraBossSeaCraftingItem,
			ObjectID.SoulLantern,
			ObjectID.PetTardigradeEgg,
			ObjectID.SoulNecklace,
			ObjectID.GiantMitochondrion,
			ObjectID.ArcaneMonkPantsArmor,
			ObjectID.FireballExplosiveProjectile,
			ObjectID.WallBossScanner,
			ObjectID.CorruptWardenPantsArmor,
			ObjectID.HydraBossNatureChest,
			ObjectID.CoreCommanderBreastArmor,
			ObjectID.SulfurPantsArmor,
			ObjectID.HydraBossSeaBait,
			ObjectID.GrimPantsArmor,
			ObjectID.VoidOrbGun,
			ObjectID.PassageCraftingStatue,
			ObjectID.ArcaneStaff,
			ObjectID.HydraBossIceShardMortarProjectile,
			ObjectID.HydraBossSeaTrophy,
			ObjectID.HydraBossDesertChest,
			ObjectID.TomeOfMelee,
			ObjectID.UnleashedCoreCommanderTrophy,
			ObjectID.IceShardProjectile,
			ObjectID.ArcaneMonkHelm,
			ObjectID.CoreCommanderTrophy,
			ObjectID.BasicStaff,
			ObjectID.CoreBossElectricProjectile,
			ObjectID.AmoebaGiantSegmentBody,
			ObjectID.CoreBoss,
			ObjectID.TomeOfRange,
			ObjectID.ChaosStaff,
			ObjectID.SoaringBreastArmor,
			ObjectID.HydraBoneShield,
			ObjectID.HydraBossNatureBait,
			ObjectID.HydraJewelrySeaRing,
			ObjectID.StoneLantern,
			ObjectID.PetMothEgg,
			ObjectID.Cytoplasm,
			ObjectID.ApprenticeBreastArmor,
			ObjectID.PinkhornPico,
			ObjectID.NatureWormSegmentTail,
			ObjectID.GroundPassageBlock,
			ObjectID.WayPoint,
			ObjectID.VoidOrbGunProjectile,
			ObjectID.PandoriumHelm,
			ObjectID.WallPassageBlock,
			ObjectID.FeatherTreeCyan,
			ObjectID.HydraBossStalactiteMortarProjectile,
			ObjectID.SunExplosion,
			ObjectID.SmallFeatherTree,
			ObjectID.GrimBreastArmor,
			ObjectID.NatureWormSegment,
			ObjectID.SmallFeatherTreeCyan,
			ObjectID.LiquidMetal,
			ObjectID.BatMinionProjectile,
			ObjectID.WormSulfurExplosion,
			ObjectID.CoreBossBeam,
			ObjectID.RiftLensOffhand,
			ObjectID.HydraBossShockwaveMortarProjectile,
			ObjectID.ViciousRing,
			ObjectID.LiquidMetalVent,
			ObjectID.HydraWorkbench,
			ObjectID.WallBossChest,
			ObjectID.WallBossHead,
			ObjectID.LithoTrilobite,
			ObjectID.ZealotSword,
			ObjectID.SulfurBud,
			ObjectID.MeleeMinion,
			ObjectID.SunStaffProjectile,
			ObjectID.GrimHelm,
			ObjectID.MagicPotion,
			ObjectID.ApprenticePantsArmor,
			ObjectID.ChieftainHelm,
			ObjectID.CookedCakeRare,
			ObjectID.SorcererPantsArmor,
			ObjectID.PetMoth,
			ObjectID.HydraBossSeaChest,
			ObjectID.MoonstoneOffhand,
			ObjectID.CookedCakeEpic,
			ObjectID.HydraBossIceShard,
			ObjectID.FeatherTree,
			ObjectID.CalcifiedBone,
			ObjectID.HydraBossSpawnNilipedeMortarProjectile,
			ObjectID.ArcaneStaffProjectile,
			ObjectID.ChieftainPantsArmor,
			ObjectID.HydraBossNature,
			ObjectID.PandoriumBar,
			ObjectID.TomeOfOrbit,
			ObjectID.HydraBossDesertBait,
			ObjectID.PassageDestructibleDebris,
			ObjectID.HydraBossLavaMortarProjectile,
			ObjectID.SunStaff,
			ObjectID.HydraBossDesertTrophy,
			ObjectID.PetTardigrade,
			ObjectID.HydraBossDesertScanner,
			ObjectID.CoreBossScanner,
			ObjectID.CrescentNecklace,
			ObjectID.BatMinion,
			ObjectID.PuppetRing,
			ObjectID.CorruptWardenHelm,
			ObjectID.ShroomanBruteTrophy,
			ObjectID.SulfurExplosion,
			ObjectID.BigJungleTree,
			ObjectID.PassageGroundDecoration,
			ObjectID.CoreCommanderHelm,
			ObjectID.MinionPotion,
			ObjectID.CritterPassageFly,
			ObjectID.BoundaryRing,
			ObjectID.PetMothEggCracked,
			ObjectID.RiftianLampfish,
			ObjectID.HydraBoneBreastArmor,
			ObjectID.Dodo,
			ObjectID.WitchDoctorBreastArmor,
			ObjectID.PandoriumAxe,
			ObjectID.FruitBasket,
			ObjectID.HydraBossBeamMortarProjectile,
			ObjectID.WitchDoctorHelm
		});

		public static readonly ObjectsAddedByVersion Ck101 = new("1.0.1", new[] {
			ObjectID.AquariumCrystal,
			ObjectID.FireMiteMinion,
			ObjectID.CoralDoor,
			ObjectID.GalaxiteDoor,
			ObjectID.TomeOfFire,
			ObjectID.TerrariumPassage,
			ObjectID.Aquarium,
			ObjectID.AquariumNature,
			ObjectID.TomeOfPoison,
			ObjectID.PoisonMinion,
			ObjectID.AquariumDesert,
			ObjectID.PoisonMinionProjectile,
			ObjectID.MalugazChest,
			ObjectID.TerrariumNature,
			ObjectID.AquariumPassage,
			ObjectID.ExplosiveMinion,
			ObjectID.AquariumBeach,
			ObjectID.TerrariumBeach,
			ObjectID.TerrariumDesert,
			ObjectID.RadiatingMinion,
			ObjectID.TomeOfRadiation,
			ObjectID.Terrarium,
			ObjectID.RuneSongTrail,
			ObjectID.TerrariumCrystal
		});

		public static readonly ObjectsAddedByVersion Ck102 = new("1.0.2", new[] {
			ObjectID.LuckyCat,
			ObjectID.PottedEnvelopeTree,
			ObjectID.ChineseFoldingScreen
		});

		public static readonly ObjectsAddedByVersion Ck11 = new("1.1", new[] {
			ObjectID.Grenade,
			ObjectID.PoisonGrenadeProjectile,
			ObjectID.CamelBaby,
			ObjectID.WallDesertExplosiveBlock,
			ObjectID.NatureCicadaSummoningItem,
			ObjectID.Tapestry,
			ObjectID.OasisStalagmite,
			ObjectID.GrimyStoneBookshelfLarge,
			ObjectID.GiantCicadaBossSpawnLocation,
			ObjectID.BlunderExplosion,
			ObjectID.MinionDetonatorExplosion,
			ObjectID.DancerBreastArmor,
			ObjectID.BombNecklace,
			ObjectID.DugUpOasisGround,
			ObjectID.DesertGuardianBreastArmor,
			ObjectID.SeedAndCropsPouch,
			ObjectID.PetMagicEggCracked,
			ObjectID.LaboratoryWorkbench,
			ObjectID.CicadaNymphTrophy,
			ObjectID.GroundOasisblock,
			ObjectID.LargeSeedAndCropsPouch,
			ObjectID.GiantCicadaBossTrophy,
			ObjectID.CicadaNymph,
			ObjectID.GrimyStoneBookshelf,
			ObjectID.OreAndBlockPouch,
			ObjectID.LargeOreAndBlockPouch,
			ObjectID.FishPouch,
			ObjectID.DarkVoidCrystal,
			ObjectID.BombMortarPojectile,
			ObjectID.BlastHelm,
			ObjectID.WateredOasisGround,
			ObjectID.SmallPoisonExplosion,
			ObjectID.VoidBomb,
			ObjectID.LargeFishPouch,
			ObjectID.SwampMageHelm,
			ObjectID.ProximityBomb,
			ObjectID.SmallSulfurExplosion,
			ObjectID.GiantCicadaBoss,
			ObjectID.FieryExplosion,
			ObjectID.ValuablePouch,
			ObjectID.VoidExplosion,
			ObjectID.DesertExplosiveWallExplosion,
			ObjectID.DancerHelm,
			ObjectID.OasisSucculentLarge,
			ObjectID.NatureCicadaEnemy,
			ObjectID.CharmGrenade,
			ObjectID.BlastingDung,
			ObjectID.OctarineSeeder,
			ObjectID.MeteorMortarProjectile,
			ObjectID.SulfurBombMortarPojectile,
			ObjectID.BlunderBomb,
			ObjectID.GiantCicadaBossShield,
			ObjectID.FireGrenade,
			ObjectID.GoldenBombScarabTrophy,
			ObjectID.CicadaBurrow,
			ObjectID.LargeBombMortarPojectile,
			ObjectID.MediumOreAndBlockPouch,
			ObjectID.GoldenBombScarab,
			ObjectID.StunGrenadeProjectile,
			ObjectID.SmallBombMortarPojectile,
			ObjectID.DesertGuardianHelm,
			ObjectID.GiantCicadaChest,
			ObjectID.Camel,
			ObjectID.PetMagic,
			ObjectID.WaterReed,
			ObjectID.CultistColossCicada,
			ObjectID.BlastBreastArmor,
			ObjectID.Napalm,
			ObjectID.CaveBag,
			ObjectID.OasisGroundDecoration,
			ObjectID.WallForestExplosiveBlock,
			ObjectID.PoisonGrenade,
			ObjectID.MediumSeedAndCropsPouch,
			ObjectID.ScatterExplosion,
			ObjectID.MinionDetonator,
			ObjectID.MediumFishPouch,
			ObjectID.FireGrenadeProjectile,
			ObjectID.StoneHatchlingExplosion,
			ObjectID.CharmExplosion,
			ObjectID.CharmGrenadeProjectile,
			ObjectID.Banner,
			ObjectID.StunGrenade,
			ObjectID.WallOasisBlock,
			ObjectID.DesertGuardianPantsArmor,
			ObjectID.StunExplosion,
			ObjectID.DesertCicadaEnemy,
			ObjectID.DancerPantsArmor,
			ObjectID.OasisSucculent,
			ObjectID.MeteorStaff,
			ObjectID.StoneSeeder,
			ObjectID.GiantCicadaBossScanner,
			ObjectID.GiantCicadaBossSummoningItem,
			ObjectID.GrimyStoneTable,
			ObjectID.LargeValuablePouch,
			ObjectID.PoisonExplosion,
			ObjectID.CicadaNatureTrophy,
			ObjectID.SwampMagePantsArmor,
			ObjectID.GrenadeProjectile,
			ObjectID.PetMagicEgg,
			ObjectID.BlastPantsArmor,
			ObjectID.PouchWorkbench,
			ObjectID.SwampMageBreastArmor,
			ObjectID.CicadaBossBuzzMortarProjectile,
			ObjectID.SeekerBomb,
			ObjectID.AlienFuse,
			ObjectID.MediumValuablePouch,
			ObjectID.VoidBombMortarPojectile
		});

		public static readonly ObjectsAddedByVersion Ck111 = new("1.1.1", new[] {
			ObjectID.AFDrink1,
			ObjectID.AFDrink5,
			ObjectID.PetElectricEgg,
			ObjectID.AFScienceHelm,
			ObjectID.AFDrink2,
			ObjectID.AFSciencePantsArmor,
			ObjectID.AFDrink6,
			ObjectID.AFPipeClub,
			ObjectID.AFQuillRifle,
			ObjectID.AFVendingMachine,
			ObjectID.AFWhiteBoard,
			ObjectID.AFWoodenDestructible,
			ObjectID.AFDrink4,
			ObjectID.AFPestElectricTrophy,
			ObjectID.AFWaterCooler,
			ObjectID.AFPestElectric,
			ObjectID.PetElectric,
			ObjectID.AFBottledAnomaly,
			ObjectID.AFPortal,
			ObjectID.AFDrink3,
			ObjectID.AFQuillProjectile,
			ObjectID.AFScienceBreastArmor,
			ObjectID.PetElectricEggCracked
		});

		public static readonly ObjectsAddedByVersion Ck112 = new("1.1.2", new[] {
			ObjectID.MeteorStaffLesser,
			ObjectID.MeteorMortarLesserProjectile,
			ObjectID.PetBedBirdStick,
			ObjectID.PetBed,
			ObjectID.PetWarlock,
			ObjectID.PetWarlockEgg,
			ObjectID.PetBedCatTree,
			ObjectID.SummonerOffhand,
			ObjectID.PetBedDogHouse,
			ObjectID.PetWarlockEggCracked
		});

		public static readonly ObjectsAddedByVersion Ck1129 = new("1.1.2.9", new[] {
			ObjectID.MakeAWishHat
		});
		
		public static readonly ObjectsAddedByVersion[] AllVersions = {
			Ck10,
			Ck101,
			Ck102,
			Ck11,
			Ck111,
			Ck112,
			Ck1129
		};
	}
}